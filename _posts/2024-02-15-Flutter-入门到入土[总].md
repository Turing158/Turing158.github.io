---
title: Flutter-入门到入土[总]
description: Flutter是谷歌基于Dart语言开发的一款开源、免费且跨平台的App开发框架，所以建议先学习Dart语言的基本语法，很像JavaScript和Java，学起来很快。这篇文章打算直接总结如何使用Flutter框架，所以比较长，但是讲解的东西比较简短
date: 2024-2-15 15:25:32
categories:
 - Flutter
tags:
---
# Flutter

---

 Flutter是谷歌基于**Dart**语言开发的一款**开源、免费且跨平台**的App开发框架，所以建议先学习**Dart**语言的**基本语法**，很像**JavaScript**和**Java**，学起来很快。*这篇文章打算直接总结如何使用Flutter框架，所以比较长，但是讲解的东西比较简短*

# 环境配置

## 安装JDK

---

1. 前往[Java Downloads - Oracle](https://www.oracle.com/java/technologies/downloads/)下载所需要的**jdk**，**JDK17**版本够用了

   ![image-20240221220731441](https://www.z4a.net/images/2024/02/22/image-20240221220731441.png)

2. 配置系统环境

   1. 新建**系统变量**，第一行输入`JAVA_HOME`，第二行输入安装**jdk**的目录

   ![image-20240221220920299](https://www.z4a.net/images/2024/02/22/image-20240221220920299.png)

   2. 在系统变量中找到**Path**双击点开，点击**新建**，并输入`%JAVA_HOME%\bin`

      ![image-20240221221122941](https://www.z4a.net/images/2024/02/22/image-20240221221122941.png)

   3. 一直点确定，然后再**cmd**中输入`java -version`，一般来说出现的就是**版本号**，若不行，重启下电脑，若还不行，重新安装吧！

      ![image-20240221221239951](https://www.z4a.net/images/2024/02/22/image-20240221221239951.png)

## 安装Android Studio

---

1. 前往[下载 Android Studio ](https://developer.android.google.cn/studio?hl=zh-cn)，并**安装**

2. 安装完毕之后，点击**左边的第三项**，插件，我这里汉化了，[汉化教程](https://blog.csdn.net/weixin_46396315/article/details/136222867)

   ![image-20240221222652529](https://www.z4a.net/images/2024/02/22/image-20240221222652529.png)

3. **搜索并安装**这两个插件，然后重启**Android Studio**

   ![image-20240221222754434](https://www.z4a.net/images/2024/02/22/image-20240221222754434.png)

## 安装FlutterSDK

---

1. 前往**Flutter**官网下载**FlutterSDK**，[Flutter SDK archive - Flutter](https://docs.flutter.dev/release/archive?tab=windows#windows)

   ![image-20240221221501653](https://www.z4a.net/images/2024/02/22/image-20240221221501653.png)

2. 将下载好的压缩包**解压**，然后**配置环境**，双击系统变量的**Path**，新建并输入刚刚解压到的**文件夹到bin目录的路径**

   ![image-20240221222100461](https://www.z4a.net/images/2024/02/22/image-20240221222100461.png)

3. 在**cmd**中输入`flutter doctor`,等待一下，出现这些

   ![image-20240221222239684](https://www.z4a.net/images/2024/02/22/image-20240221222239684.png)

   前三项和倒数三项不是x一般就能用，如果第三项出现问题，先安装**Android Studio**

4. 常见问题

   若第三项出现问题，先安装**Android Studio**

   Android-SDK的系统环境，未配置，在系统变量中新建并第一行输入`ANDROID_HOME`，第二行输入你安装**Android Studio**时，安装Android-SDK的路径，然后重启电脑，一般就行了

   ![image-20240221224246524](https://www.z4a.net/images/2024/02/22/image-20240221224246524.png)

   如果`flutter doctor`时出现`cmdline-tools component is missing`

   根据以下步骤：

    1. 打开**Android Studio**，关闭项目，到开始页面，点最右边的竖着的三个点，选择**SDK Manager**

       ![image-20240227133113310](https://www.z4a.net/images/2024/02/27/image-20240227133113310.png)

    2. 点第二项**SDK Tools**，在下面找到**Android SDK Command-line Tools**并勾选，点击确定

       ![image-20240227133341573](https://www.z4a.net/images/2024/02/27/image-20240227133341573.png)

    3. 点击**确定***[我这里因为已经最新了，所以下载的东西与你们出问题的不一样]*

       ![image-20240227133545643](https://www.z4a.net/images/2024/02/27/image-20240227133545643.png)

    4. 等待这个界面下载，下载完成就点**完成**

       ![image-20240227133616137](https://www.z4a.net/images/2024/02/27/image-20240227133616137.png)

   如果还不行，推荐重新安装Android SDK！

# 创建Flutter项目并运行

## 创建

---

1. 一切准备好之后，会看到**Android Studio**右上角有个`New Flutter Projec`t的按钮，点这个按钮是为了创建**Flutter**项目

   ![image-20240221224925325](https://www.z4a.net/images/2024/02/22/image-20240221224925325.png)

2. 点进去之后，右边点击**Flutter**，然后下一步

3. 这里就是项目的基本信息

   - 项目名称：随便你想怎么起怎么起
   - 项目路径：看你想放哪
   - 项目描述：这一条无所谓
   - 项目类型：想做app就选Application
   - 所属组织：随你
   - 安卓系统的编译语言：一般选第二项
   - IOS系统的编译语言：一般选第二项
   - 所在平台：一般全选

   然后填好之后，点左下角**创建**

   ![image-20240221225231548](https://www.z4a.net/images/2024/02/22/image-20240221225231548.png)

   最后，我们需要编写的文件，就在**lib**里

   ## 运行

   ---

   先点击右上角的**手机图标**，然后**选择Edge**，再点击运行，如果没有这种运行，左边的项目找到项目的目录，然后点开**lib**，再双击**.dart文件**，再编辑器右键点击**小三角**运行
   
   ![image-20240221223029914](https://www.z4a.net/images/2024/02/22/image-20240221223029914.png)

# flutter的基本要素

---


1. 创建第一个**flutter**，需要导入一个包`package:flutter/material.dart`

2. 使用**main**函数，让他可以运行**runApp()**方法

3. **runApp()**需要填写容器，这里先使用**Center**

4. **Center**里面需要填写**child**

5. **Text()**即是创建一个文本到**Center**里

6. **Text**里可以有**textDirection**为让文字从左到右[**ltr**]还是从右到左[**rtl**]

7. **Text**里的**style**可以改变文字样式

   ```dart
   import 'package:flutter/material.dart';
   //demo1-Center
   void main() {
     runApp(const Center(
       child: Text(
         "hello world!",
         textDirection: TextDirection.ltr,
         style: TextStyle(
           fontSize: 20.0,
           color: Colors.brown
         ),
       )
     ));
   }
   ```


# MaterialApp and Scaffold

## MaterialApp常用的属性

---

| 属性名 | 用处 |
| ------ | ---- |
| home   | 主页 |
| title  | 标题 |
| color  | 颜色 |
| theme  | 主题 |
| routes | 路由 |

### MaterialApp-home  

填写容器，一般以**Scaffold**为主，**Scaffold**是与**MaterialApp**的另一种组件

```dart
import 'package:flutter/material.dart';
// demo2-MaterialApp and Scaffold
void main(){
  runApp(MaterialApp(
    home: Scaffold()
  ));
}
```

### MaterialApp-title|color

---

**MaterialApp**的标题和颜色，但是一般不用

### MaterialApp-theme

---

整个软件的主题，填写的参数有要求

> - `ThemeData.light()`：白色主题
> - `ThemeData.dark()`：黑色主题

```dart
import 'package:flutter/material.dart';
// demo2-MaterialApp and Scaffold
void main(){
  runApp(MaterialApp(
    theme:ThemeData.dark()
  ));
}
```



### MaterialApp-routes

---

none

## Scaffold的常用属性

---

> - **appBar** - 用于显示顶部部分
> - **body** - 用于显示主要内容
> - **drawer** - 左边抽屉菜单

### Scaffold-appBar

---

如何使用**appBar**

```dart
import 'package:flutter/material.dart';
// demo2-MaterialApp and Scaffold
void main(){
  runApp(MaterialApp(
    home:Scaffold(
      appBar:AppBar(
        title:Text("demo2")
      )
  ));
}
```

其实**appBar**还有一些属性

> - **backgroundColor** - 用于设置背景颜色
> - **centerTitle** - 是否居中文字

```dart
import 'package:flutter/material.dart';
// demo2-MaterialApp and Scaffold
void main(){
  runApp(MaterialApp(
    home:Scaffold(
      appBar:AppBar(
        title:Text("demo2")
      ),
      backgroundColor: Colors.lightGreen,
      centerTitle: true,
    )
  ));
}
```

### Scaffold-body

---

主体部分，填写容器就行了，这里用了**Center**

```dart
import 'package:flutter/material.dart';
// demo2-MaterialApp and Scaffold
void main(){
  runApp(MaterialApp(
    home: Scaffold(
      body: const Center(
        child: Text(
          "Hello world!",
          textDirection: TextDirection.ltr,
          style: TextStyle(
              color: Colors.greenAccent,
              fontSize: 30.0
          ),
        ),
      ),
    )
  ));
}
```

### Scaffold-drawer

---

1. 编写一个简单的界面

   ```dart
   import 'package:flutter/material.dart';
   //demo4-Drawer
   void main(){
     runApp(MaterialApp(
       home: Scaffold(
         appBar: AppBar(
           title: const Text(
               "demo4-Drawer",
               textDirection: TextDirection.ltr
           ),
           backgroundColor: Colors.blue,
           titleTextStyle:const TextStyle(
               color: Colors.amber
           ),
         ),
         drawer:
       ),
     ));
   }
   ```

2. darwer需要填写与之相应的Darwer()

   里面常用的两个属性

   > - **backgroundColor** - 抽屉菜单的背景颜色
   > - **child** - 抽屉菜单的内容

   ```dart
   import 'package:flutter/material.dart';
   //demo4-Drawer
   void main(){
     runApp(MaterialApp(
       home: Scaffold(
         appBar: AppBar(
           title: const Text(
               "demo4-Drawer",
               textDirection: TextDirection.ltr
           ),
           backgroundColor: Colors.blue,
           titleTextStyle:const TextStyle(
               color: Colors.amber
           ),
         ),
         drawer:const Drawer(
           backgroundColor: Colors.lightBlue,
           child:Text(
             "DrawerTitle",
             textDirection: TextDirection.ltr,
             style: TextStyle(
               color: Colors.greenAccent,
               fontSize: 30.0,
             ),
           ),
         ),
       ),
     ));
   }
   ```

3. 总体代码

   ```dart
   import 'package:flutter/material.dart';
   //demo4-Drawer
   void main(){
     runApp(MaterialApp(
       home: Scaffold(
         appBar: AppBar(
           title: const Text(
               "demo4-Drawer",
               textDirection: TextDirection.ltr
           ),
           backgroundColor: Colors.blue,
           titleTextStyle:const TextStyle(
               color: Colors.amber
           ),
         ),
         body: HomeComp(),
         drawer:const Drawer(
           backgroundColor: Colors.lightBlue,
           child:Text(
             "DrawerTitle",
             textDirection: TextDirection.ltr,
             style: TextStyle(
               color: Colors.greenAccent,
               fontSize: 30.0,
             ),
           ),
         ),
       ),
     ));
   }
   
   
   class HomeComp extends StatelessWidget{
     // const HomeComp ({Key ? key}) : super(key: key);
     @override
     Widget build(BuildContext context) {
       // TODO: implement build
       return const Center(
         child: Text(
           "Hello world",
           textDirection: TextDirection.ltr,
           style: TextStyle(
             color: Colors.green,
   
           ),
         ),
       );
     }
   
   }
   ```



# 分离组件

---

我们在编写软件的时候，不会把所有的东西功能和界面全部写在一起，那样会让我们看起来很烦躁，因为非常的乱

1. 先编写一个普通的界面，现在，代码是报错的，因为body还没有填写东西

   ```dart
   import 'package:flutter/material.dart';
   //demo3-分离组件
   void main(){
     runApp(MaterialApp(
       home: Scaffold(
         appBar: AppBar(
           title: const Text("demo3-分离组件"),
           backgroundColor: Colors.blue,
           titleTextStyle:const TextStyle(
             color: Colors.amber
           ),
         ),
         body: ,
       ),
     ));
   }
   ```

2. 在main方法下面，编写一个组件类，让这个类继承StatelessWidget，此时会报错，将鼠标放上去，让系统自动帮你把方法写出来

   `const HomeComp({super.key});`这一行一般都是这样的形式，照写就行

   ```dart
   class HomeComp extends StatelessWidget{
     const HomeComp({super.key});
     @override
     Widget build(BuildContext context) {
      
     }
   }
   ```

3. 在继承的方法返回容器即可

   ```dart
   class HomeComp extends StatelessWidget{
     const HomeComp({super.key});
   
     @override
     Widget build(BuildContext context) {
       // TODO: implement build
       return const Center(
         child: Text(
           "Hello world",
           style: TextStyle(
             color: Colors.green,
           ),
         ),
       );
     }
   }
   ```

4. 总体代码就是这样

   ```dart
   import 'package:flutter/material.dart';
   //demo3-分离组件
   void main(){
     runApp(MaterialApp(
       home: Scaffold(
         appBar: AppBar(
           title: const Text("demo3-分离组件"),
           backgroundColor: Colors.blue,
           titleTextStyle:const TextStyle(
             color: Colors.amber
           ),
         ),
         body: const HomeComp(),
       ),
     ));
   }
   
   
   class HomeComp extends StatelessWidget{
     const HomeComp({super.key});
   
     @override
     Widget build(BuildContext context) {
       // TODO: implement build
       return const Center(
         child: Text(
           "Hello world",
           style: TextStyle(
             color: Colors.green,
           ),
         ),
       );
     }
   }
   ```

# 基础组件

## Container容器组件

### alignment的参数

---

| 参数                     | 说明                 |
| ------------------------ | -------------------- |
| `Alignment.topCenter`    | 顶部居中对齐         |
| `Alignment.topLeft`      | 顶部左对齐           |
| `Alignment.topRight`     | 顶部右对齐           |
| `Alignment.topRight`     | 顶部右对齐           |
| `Alignment.center`       | 水平垂直居中对齐     |
| `Alignment.centerLeft`   | 垂直居中水平居左对齐 |
| `Alignment.centerRight`  | 垂直居中水平居右对齐 |
| `Alignment.bottomCenter` | 底部居中对齐         |
| `Alignment.bottomLeft`   | 底部居左对齐         |
| `Alignment.bottomRight`  | 底部居右对齐         |

### decoration的属性

---

先使用BoxDecoration()，里面的参数为

| 属性           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| `gradient`     | 渐变   LinearGradient()为背景线性渐变   RadialGradient()为径向渐变，这两个方法里面需要color参数，可以书数组 |
| `boxShadow`    | 阴影    需要定义一个常量数组，数组里面需要BoxShadow()，里面有color[颜色]、offset[位移，参数为Offset(x, y)]、blurRadius[虚化程度] |
| `border`       | 边框    需要使用Border.all()，里面有color[颜色]、width[线条大小] |
| `borderRadius` | 盒子圆角    需要使用BorderRadius.circular()，参数就是double类型的数字 |



### 其他属性

---

| 属性             | 说明                                                         |
| ---------------- | ------------------------------------------------------------ |
| `margin`         | 容器与外部的距离，参数使用`EdgeInsets.all(double)`或者`EdgeInsets.fromLTRB(double,double,double,double)` |
| `padding`        | 容器边框与child的距离，同上                                  |
| `transform`      | 让容器可以位移旋转                                           |
| `height | width` | 容器宽高                                                     |
| `child`          | 子元素                                                       |



## Text组件

### textAlign参数

---

文字对齐方式

| 参数               | 说明         |
| ------------------ | ------------ |
| `TextAlign.center` | 文字居中     |
| `TextAlign.left`   | 文字左对齐   |
| `TextAlign.right`  | 文字右对齐   |
| `TextAlign.justfy` | 文字两端对齐 |



### textDirection参数

---

文字方向

| 参数                | 说明     |
| ------------------- | -------- |
| `TextDirection.ltr` | 从左至右 |
| `TextDirection.rtl` | 从右至左 |



### overﬂow参数

---

文字超出屏幕之后的处理方式

| 参数                    | 说明     |
| ----------------------- | -------- |
| `TextOverflow.visible`  | 强制显示 |
| `TextOverflow.clip`     | 裁剪隐藏 |
| `TextOverflow.fade`     | 渐隐     |
| `TextOverflow.ellipsis` | 省略号   |



### textScaler参数

---

textScaleFactor已弃用，用textScaler代替，用于字体显示倍率

| 参数                        | 说明                  |
| --------------------------- | --------------------- |
| `TextScaler.linear(double)` | 字体显示倍率，1为正常 |

### maxLines参数

---

显示最大行数

- 填写整数即可

### style属性

---

需要搭配**TextStyle()**使用，以下是**TextStyle()**的**属性**

- **decoration**：文字的装饰线

  | 参数                         | 说明   |
  | ---------------------------- | ------ |
  | `TextDecoration.none`        | 无线条 |
  | `TextDecoration.lineThrough` | 删除线 |
  | `TextDecoration.overline`    | 上划线 |
  | `TextDecoration.underline`   | 下划线 |

- **decorationColor**：装饰线的颜色

- **decorationStyle**：装饰线样式

  | 参数                         | 说明     |
  | ---------------------------- | -------- |
  | `TextDecorationStyle.dashed` | 横杆虚线 |
  | `TextDecorationStyle.dotted` | 点虚线   |
  | `TextDecorationStyle.double` | 双线     |
  | `TextDecorationStyle.solid`  | 实线     |
  | `TextDecorationStyle.wavy`   | 波浪线   |

- **wordSpacing**：**单词**间隙，负值会让**单词**变得更紧凑

- **letterSpacing**：**字母**间隙，负值，会让**字母**变得更紧凑

- **fontStyle**：文字样式

  | 参数               | 说明     |
  | ------------------ | -------- |
  | `FontStyle.normal` | 正常字体 |
  | `FontStyle.italic` | 斜体     |

- **fontSize**：文字大小

- **color**：文字颜色

- **fontWeight**：文字粗细

  | 参数                | 说明                    |
  | ------------------- | ----------------------- |
  | `FontWeight.normal` | 正常粗细                |
  | `FontWeight.normal` | 粗体                    |
  | `FontWeight.wx00`   | 按照整百粗细（100-900） |

## 图片组件

---

图片组件分为两种

- Image.asset
- Image.network

### 属性

---

两种的参数都是一样的，就是引用图片的方式不一样

**alignment**：图片对齐方式

| 参数                     | 说明                 |
| ------------------------ | -------------------- |
| `Alignment.topCenter`    | 顶部居中对齐         |
| `Alignment.topLeft`      | 顶部左对齐           |
| `Alignment.topRight`     | 顶部右对齐           |
| `Alignment.center`       | 水平垂直居中对齐     |
| `Alignment.centerLeft`   | 垂直居中水平居左对齐 |
| `Alignment.centerRight`  | 垂直居中水平居右对齐 |
| `Alignment.bottomCenter` | 底部居中对齐         |
| `Alignment.bottomLeft`   | 底部居左对齐         |
| `Alignment.bottomRight`  | 底部居右对齐         |

**fit**：图片的填充

| 参数               | 说明                                                         |
| ------------------ | ------------------------------------------------------------ |
| `BoxFit.fill`      | 拉伸填满                                                     |
| `BoxFit.contain`   | 按原始比例，可能会有空隙                                     |
| `BoxFit.cover`     | 图片填满整个容器，不变形，但是会被剪裁                       |
| `BoxFit.fitWidth`  | 宽度充满                                                     |
| `BoxFit.fitHeight` | 高度充满                                                     |
| `BoxFit.scaleDown` | 效果和contain差不多，但是不允许显示超过原图片的大小，可小不可大 |

**color**：图片背景颜色

**colorBlendMode**：图片混合颜色选项

- 参数比较多，都是比较基本的图片颜色混合

  ![image-20240208211305060](https://www.z4a.net/images/2024/02/22/image-20240208211305060.png)

**repeat**：图片平铺

- `ImageRepeat.noRepeat`：不重复
- `ImageRepeat.repeat`：横向和总线都重复
- `ImageRepeat.repeatX`：横向重复，纵向不重复
- `ImageRepeat.repeatY`：纵向重复，横向不重复

**width 和 height**：图片宽高

### Image.asset

---

1. 在目录新建储存图片的文件夹

   ![image-20240208211756026](https://www.z4a.net/images/2024/02/22/image-20240208211756026.png)

2. 在**pubspec.yaml**文件中声明图片文件*[注意格式和空格]*，在这个地方添加⬇

   ```yaml
   flutter:
     # The following line ensures that the Material Icons font is
     # included with your application, so that you can use the icons in
     # the material Icons class.
     uses-material-design: true
     assets:
       - "img/head.jpg"
     #在这个地方添加，认准这个地方，下面这里的这四行注释下面也行
     # To add assets to your application, add an assets section, like this:
     # assets:
     #   - images/a_dot_burr.jpeg
     #   - images/a_dot_ham.jpeg
     
   ```

3. 在**child**中使用**Image.asset()**

   ```dart
   // 这只是个组件
   class Demo6 extends StatelessWidget{
     const Demo6({super.key});
   
     @override
     Widget build(BuildContext context) {
       // TODO: implement build
       return Center(
         child: Image.asset(
           "img/head.jpg",
         )
       );
     }
   }
   ```

### Image.network

---

这个也同理，就是不用配置什么东西

```dart
// 这只是个组件
class Demo6 extends StatelessWidget{
  const Demo6({super.key});

  @override
  Widget build(BuildContext context) {
    // TODO: implement build
    return Center(
      child: Image.network(
        "https://www.baidu.com/img/flexible/logo/pc/result.png",
      )
    );
  }
}
```

## 图标组件

---

使用Icon()来使用官方给的图标

```dart
class Demo7 extends StatelessWidget{
  const Demo7({super.key});

  @override
  Widget build(BuildContext context) {
    // TODO: implement build
    return const Center(
      child: Column(
        children: [
          Icon(
            Icons.add,
          ),
          Icon(
            Icons.add_box_rounded,
            color: Colors.lightBlueAccent,
          ),
          Icon(
            Icons.accessibility_rounded,
            color: Colors.green,
            size: 30,
          )
        ],
      ),
    );
  }}
```

### 属性

---

| 属性             | 说明             |
| ---------------- | ---------------- |
| **Icons.图标名** | 使用官方的图标   |
| **color**        | 图标颜色         |
| **size**         | 图标大小，默认20 |



## 列表组件

---

通过使用组件`ListView()`创建列表

### 属性

---

| 属性              | 说明                                                         |
| ----------------- | ------------------------------------------------------------ |
| `scrollDirection` | 设置列表类型，参数为 `Axis.vertical`垂直列表[默认]、`Axis.horizontal  ` 水平列表 |
| `padding`         | 内边距，与其他组件一样                                       |
| `resolve`         | 是否反向排序，参数：`true`和`false`                          |
| `children`        | 列表的元素，参数为数组                                       |



### 最简单的列表

---

通过使用`ListTile()`创建列表项，利用**ListTile**里的参数**title**可以将其他元素放进去列表项

```dart
// 垂直列表-title
class List1 extends StatelessWidget{
  const List1({super.key});
  @override
  Widget build(BuildContext context) {
    return ListView(
      children: const <Widget>[
        ListTile(
          title: Text("标题1"),
        ),
        ListTile(
          title: Text("标题1"),
        ),
        ListTile(
          title: Text("标题1"),
        ),
        ListTile(
          title: Text("标题1"),
        ),
        ListTile(
          title: Text("标题1"),
        ),
      ],
    );
  }
}
```

### 列表项

---

即`ListTile()`，有必要说一下里面的参数

#### 属性

---

| 属性                          | 说明                                     |
| ----------------------------- | ---------------------------------------- |
| `leading`                     | 列表项的最左边[前导]，一般放图标或者图片 |
| `trailing`                    | 列表项的最右边[尾部]，一般放图标或者图片 |
| `title`                       | 列表项的标题                             |
| `subtitle`                    | 列表项的副标题                           |
| `style`                       | 列表项的文本样式                         |
| `iconColor`                   | 图标颜色                                 |
| `tileColor`                   | 列表项背景颜色                           |
| `titleTextStyle`              | 标题文本颜色                             |
| `subtitleTextStyle`           | 副标题文本颜色                           |
| `leadingAndTrailingTextStyle` | 前导和尾部的文本样式                     |
| `contentPadding`              | 内容的内边距                             |
| `titleAlignment`              | 标题文本的对齐方式                       |
| `isThreeLine`                 | 额外文本行[三行列表项]                   |

## 布局

### Grid布局

#### 常用属性

---

| 属性               | 说明                                                     |
| ------------------ | -------------------------------------------------------- |
| `scrollDirection`  | 组件滚动方向，`Axis.horizontal`水平，`Axis.vertical`垂直 |
| `reverse`          | 组件元素是否反向排序                                     |
| `controller`       | 滚动监听                                                 |
| `primary`          | 内容不足时是否可以滑动                                   |
| `shrinkWrap`       | 内容适配，默认false                                      |
| `padding`          | 内边距                                                   |
| `crossAxisCount`   | 一行或一列的元素数量                                     |
| `mainAxisSpacing`  | 主轴之间间距                                             |
| `crossAxisSpacing` | 横轴之间间距                                             |
| `childAspectRatio` | 元素的宽高比例                                           |
| `children`         | 组件元素                                                 |

#### 使用GridView.count创建网络布局

---

使用这个方法创建网络布局必须要填写一个值**crossAxisCount**，也就是一行限制多少个元素

```dart
class GridTest1 extends StatelessWidget{
  const GridTest1({super.key});
  @override
  Widget build(BuildContext context) {
    return GridView.count(
      scrollDirection: Axis.horizontal,
      crossAxisCount: 3,
      childAspectRatio: 1.0,
      children: const <Widget>[
        Icon(Icons.account_balance_wallet,color: Colors.green,),
        Icon(Icons.balance,color: Colors.brown,),
        Icon(Icons.camera,color: Colors.lightBlueAccent,),
        Icon(Icons.data_object,color: Colors.orange,),
        Icon(Icons.egg,color: Colors.cyan,),
        Icon(Icons.facebook_outlined,color: Colors.greenAccent,),
        Icon(Icons.gamepad,color: Colors.deepPurple,),
        Icon(Icons.handshake_outlined,color: Colors.lightGreen,),
        Icon(Icons.image_rounded,color: Colors.deepOrange,),
      ],
    );
  }
}
```

#### 使用GridView.count创建网络布局

---

使用此方法创建网络布局必须要填写一个值**maxCrossAxisExtent**，也就是固定横轴的最大长度

```dart
class GridTest2 extends StatelessWidget{
  const GridTest2({super.key});

  @override
  Widget build(BuildContext context) {
    return GridView.extent(
      maxCrossAxisExtent: 100,
      childAspectRatio: 1.0,
      children: const <Widget>[
        Icon(Icons.account_balance_wallet,color: Colors.green,),
        Icon(Icons.balance,color: Colors.brown,),
        Icon(Icons.camera,color: Colors.lightBlueAccent,),
        Icon(Icons.data_object,color: Colors.orange,),
        Icon(Icons.egg,color: Colors.cyan,),
        Icon(Icons.facebook_outlined,color: Colors.greenAccent,),
        Icon(Icons.gamepad,color: Colors.deepPurple,),
        Icon(Icons.handshake_outlined,color: Colors.lightGreen,),
        Icon(Icons.image_rounded,color: Colors.deepOrange,),
      ],
    );
  }
}
```

### 线性布局

#### 属性

---

| 属性                 | 说明           | 参数                                                         |
| -------------------- | -------------- | ------------------------------------------------------------ |
| `mainAxisAlignment`  | 主轴的排序方式 | `MainAxisAlignment.center|start|end|spaceEvenly|spaceAround|spaceBetween` |
| `crossAxisAlignment` | 次轴的排序方式 | `CrossAxisAlignment.center|start|end|stretch`                |
| `children`           | 组件元素       | `略`                                                         |

#### Row布局

---

```dart
class RowTest extends StatelessWidget{
  const RowTest({super.key});

  @override
  Widget build(BuildContext context) {
    return Container(
      height: double.infinity,
      width: double.infinity,
      child: const Row(
        crossAxisAlignment: CrossAxisAlignment.center,
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Icon(Icons.account_balance_wallet,color: Colors.green,size: 50,),
          Icon(Icons.balance,color: Colors.brown,size: 50,),
          Icon(Icons.camera,color: Colors.lightBlueAccent,size: 50,),
          Icon(Icons.data_object,color: Colors.orange,size: 50,),
          Icon(Icons.egg,color: Colors.cyan,size: 50,),
          Icon(Icons.facebook_outlined,color: Colors.greenAccent,size: 50,),
          Icon(Icons.gamepad,color: Colors.deepPurple,size: 50,),
          Icon(Icons.handshake_outlined,color: Colors.lightGreen,size: 50,),
          Icon(Icons.image_rounded,color: Colors.deepOrange,size: 50,),
        ],
      ),
    );
  }
}
```

#### Colum布局

---

```dart
class ColumnTest extends StatelessWidget{
  const ColumnTest({super.key});

  @override
  Widget build(BuildContext context) {
    return Container(
      width: double.infinity,
      height: double.infinity,
      child:const Column(
        mainAxisAlignment: MainAxisAlignment.center,
        crossAxisAlignment: CrossAxisAlignment.center,
        children: [
          Icon(Icons.account_balance_wallet,color: Colors.green,size: 50,),
          Icon(Icons.balance,color: Colors.brown,size: 50,),
          Icon(Icons.camera,color: Colors.lightBlueAccent,size: 50,),
          Icon(Icons.data_object,color: Colors.orange,size: 50,),
          Icon(Icons.egg,color: Colors.cyan,size: 50,),
          Icon(Icons.facebook_outlined,color: Colors.greenAccent,size: 50,),
          Icon(Icons.gamepad,color: Colors.deepPurple,size: 50,),
          Icon(Icons.handshake_outlined,color: Colors.lightGreen,size: 50,),
          Icon(Icons.image_rounded,color: Colors.deepOrange,size: 50,),
        ],
      ),
    );
  }
}
```

### Flex布局

---

使用**flex**布局一般需要搭配**Expanded**组件一起使用

#### Flex属性和Expanded属性

---

| Flex属性    | 说明                                                         | Expanded属性 | 说明                                                         |
| ----------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| `direction` | **flex**布局方向，`Axis.horizontal`水平，`Axis.vertical`垂直 | `flex`       | 该组件占总**flex**的多少，总flex=处于该**组件内**的**Expanded**组件的**flex**值之和 |
| `children`  | flex的元素                                                   | `child`      | **Expanded**的元素                                           |

#### 水平布局

---

```dart
class FlexHor extends StatelessWidget{
  const FlexHor({super.key});

  @override
  Widget build(BuildContext context) {
    return Flex(
      direction: Axis.horizontal,
      children: [
        Expanded(flex: 1,child: Container(color: Colors.brown,child: Icon(Icons.egg,color: Colors.teal,size: 50,),)),
        Expanded(flex: 2,child: Container(color: Colors.orange,child: Icon(Icons.facebook_outlined,color: Colors.teal,size: 50,),)),
        Expanded(flex: 3,child: Container(color: Colors.cyan,child: Icon(Icons.data_object,color: Colors.teal,size: 50,),)),
      ],
    );
  }
}
```

#### 垂直布局

---

```dart
class FlexVer extends StatelessWidget{
  const FlexVer({super.key});

  @override
  Widget build(BuildContext context) {
    return Flex(
      direction: Axis.vertical,
      children: [
        Expanded(flex: 1,child: Container(color: Colors.brown,child: Icon(Icons.egg,color: Colors.teal,size: 50,),)),
        Expanded(flex: 2,child: Container(color: Colors.orange,child: Icon(Icons.facebook_outlined,color: Colors.teal,size: 50,),)),
        Expanded(flex: 3,child: Container(color: Colors.cyan,child: Icon(Icons.data_object,color: Colors.teal,size: 50,),)),
      ],
    );
  }
}
```

#### 水平与垂直布局的混合使用

---

![image-20240215001347386](https://www.z4a.net/images/2024/02/22/image-20240215001347386.png)

```dart
class RowAndColumn extends StatelessWidget{
  const RowAndColumn({super.key});

  @override
  Widget build(BuildContext context) {
    return Container(
      height: 300,
      margin:const EdgeInsets.all(10),
      child: Column(
        mainAxisAlignment: MainAxisAlignment.spaceEvenly,
        crossAxisAlignment: CrossAxisAlignment.center,
        children: [
          Expanded(
            flex: 1,
            child: Container(color: Colors.teal,),
          ),
          Container(height: 10,),//只是组件之间的分割线
          Expanded(
            flex: 1,
            child: Row(
              mainAxisAlignment: MainAxisAlignment.spaceEvenly,
              crossAxisAlignment: CrossAxisAlignment.center,
              children: [
                Expanded(flex: 2,child: Container(color: Colors.deepPurple,),),
                Container(width: 10,),//只是组件之间的分割线
                Expanded(flex: 1,child: Column(
                  mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                  crossAxisAlignment: CrossAxisAlignment.center,
                  children: [
                    Expanded(flex: 1,child: Container(color: Colors.tealAccent,)),
                    Container(height: 10,),//只是组件之间的分割线
                    Expanded(flex: 1,child: Container(color: Colors.lightBlue,))
                  ],
                ))
              ],
            ),
          ),
        ],
      ),
    );
  }
}
```



### Wrap布局

#### 属性

---

| 属性                | 说明                                                         |
| ------------------- | ------------------------------------------------------------ |
| `direction`         | 组件主轴的方向，参数为`Axis.horizontal`水平，`Axis.vertical`垂直 |
| `spacing`           | 主轴元素之间的间距                                           |
| `runSpacing`        | 新行元素之间的间距                                           |
| `alignment`         | 主轴元素的对齐方式                                           |
| `runAlignment`      | 新行元素的对齐方式                                           |
| `verticalDirection` | 定义`children`摆放顺序，默认是`VerticalDirection.down`，参数还有`VerticalDirection.up` |
| `children`          | 组件元素                                                     |

![image-20240216010733781](https://www.z4a.net/images/2024/02/22/image-20240216010733781.png)

```dart
class WrapTest extends StatelessWidget{
  const WrapTest({super.key});

  @override
  Widget build(BuildContext context) {
    return Container(
      alignment: Alignment.topCenter,
      child: Container(
        width: 300,
        alignment: Alignment.topCenter,
        child: Wrap(
          spacing: 5,
          runSpacing: 5,
          direction: Axis.horizontal,
          alignment: WrapAlignment.start,
          runAlignment: WrapAlignment.center,
          verticalDirection: VerticalDirection.down,
          children: [
            TextButton(onPressed: (){}, child: const Text("Btn1")),
            TextButton(onPressed: (){}, child: const Text("Btn22")),
            TextButton(onPressed: (){}, child: const Text("Btn333")),
            TextButton(onPressed: (){}, child: const Text("Btn4444")),
            TextButton(onPressed: (){}, child: const Text("Btn55555")),
            TextButton(onPressed: (){}, child: const Text("Btn666666")),
            TextButton(onPressed: (){}, child: const Text("Btn7777777")),
            TextButton(onPressed: (){}, child: const Text("Btn88888888")),
            TextButton(onPressed: (){}, child: const Text("Btn999999999")),
            TextButton(onPressed: (){}, child: const Text("Btn1000000000")),
            TextButton(onPressed: (){}, child: const Text("Btn11")),
          ],
        ),
      ),
    );
  }
}
```

### Stack布局

---

一般来说，会使用其他组件来与Stack布局一起使用

#### 属性

---

| 属性            | 说明                            |
| --------------- | ------------------------------- |
| `alignment`     | 对齐方式，参数`Alignment.*`     |
| `textDirection` | 文本方向，参数`TextDirection.*` |
| `children`      | 子组件                          |

使用stack布局，会让它的子组件都堆叠在一起，如下

![image-20240218015044614](https://www.z4a.net/images/2024/02/22/image-20240218015044614.png)

```dart
class StackTest extends StatelessWidget{
  const StackTest({super.key});

  @override
  Widget build(BuildContext context) {
    return Container(
      child: const Stack(
        alignment: Alignment.topCenter,
        children: [
          Text("test1"),
          Text("test2"),
          Text("test3"),
          Text("test4"),
          Text("test5"),
          Text("test6"),
          Text("test7"),
        ],
      ),
    );
  }
}
```

#### 结合Align使用

---

**Align**组件一般来说，只用通过**alignment属性**来控制组件的位置

##### Align属性

| 属性        | 说明                        |
| ----------- | --------------------------- |
| `alignment` | 对齐方式，参数`Alignment.*` |
| `child`     | 子组件                      |

如果位置不够，**Stack布局**里的组件依然会堆叠

![image-20240218015411459](https://www.z4a.net/images/2024/02/22/image-20240218015411459.png)

```dart
class StackAndAlign extends StatelessWidget{
  const StackAndAlign({super.key});

  @override
  Widget build(BuildContext context) {
    // TODO: implement build
    return Container(
      child: const Stack(
        textDirection: TextDirection.ltr,
        alignment: Alignment.topCenter,
        children: [
          Align(
            alignment: Alignment.topLeft,
            child: Text("test1"),
          ),
          Align(
            alignment: Alignment.topCenter,
            child: Text("test2"),
          ),
          Align(
            alignment: Alignment.topRight,
            child: Text("test3"),
          ),
          Align(
            alignment: Alignment.centerLeft,
            child: Text("test4"),
          ),
          Align(
            alignment: Alignment.center,
            child: Text("test5"),
          ),
          Align(
            alignment: Alignment.centerRight,
            child: Text("test6"),
          ),
          Align(
            alignment: Alignment.bottomLeft,
            child: Text("test7"),
          ),
          Align(
            alignment: Alignment.bottomCenter,
            child: Text("test8"),
          ),
          Align(
            alignment: Alignment.bottomRight,
            child: Text("test9"),
          ),
        ],
      ),
    );
  }
}
```

##### 创建一个底部导航栏

---

通过使用Align的对齐方式定位，将导航栏固定在底部

![image-20240218015710797](https://www.z4a.net/images/2024/02/22/image-20240218015710797.png)

```dart
class TabBarSelf extends StatelessWidget{
  const TabBarSelf({super.key});
  List<Widget> getLists(){
    List<Widget> lists = [];
    for(int i = 0;i<100;i++){
      lists.add(
          ListTile(
            leading: Text("[${i+1}]"),
            title: Text("标题${i+1}"),
            subtitle: Text("数据${i+1}"),
            trailing: Text("|${i+1}|"),
            tileColor: Color.fromARGB(Random().nextInt(255), Random().nextInt(255), Random().nextInt(255), 1),
          )
      );
    }
    return lists;
  }
  @override
  Widget build(BuildContext context) {
    return Stack(
      children: [
        ListView(
          children: getLists(),
        ),
        Align(
          alignment: Alignment.bottomRight,
          child: Container(
            width: double.infinity,
            height: 40,
            color: Colors.lightBlue,
            child: const Center(
              child: Text("我是个导航栏"),
            ),
          ),
        ),
      ],
    );
  }
}

```

#### 结合Positioned使用

---

使用**Positioned组件**，可以让组件位于哪个地方，就位于哪个地方，相当于**绝对定位**

##### Positioned属性

---

| 属性                          | 说明                                                         |
| ----------------------------- | ------------------------------------------------------------ |
| `left | top | right | bottom` | 控制组件的定位，相当于**坐标**，控制组件与窗口 **左边\|顶部\|右边\|底部** 边缘的距离 |
| `width | height`              | 组件的 **宽度 \| 高度** ，参数不能使用`double.inﬁnity`，且一定为固定值 |
| `child`                       | 子组件                                                       |

![image-20240218020510178](https://www.z4a.net/images/2024/02/22/image-20240218020510178.png)

```dart
class StackAndPositioned extends StatelessWidget{
  const StackAndPositioned({super.key});

  @override
  Widget build(BuildContext context) {
    return Container(
      child: const Stack(
        alignment: Alignment.topCenter,
        children: [
          Positioned(
            child: Text("top0,left0"),
            top: 0,
            left: 0,
          ),
          Positioned(
            child: Text("top100,left0"),
            top: 100,
            left: 0,
          ),
          Positioned(
            child: Text("top0,left100"),
            top: 0,
            left: 100,
          ),
          Positioned(
            child: Text("top100,left100"),
            top: 100,
            left: 100,
          ),
          Positioned(
            child: Text("top0,right0"),
            top: 0,
            right: 0,
          ),
          Positioned(
            child: Text("bottom0,left0"),
            bottom: 0,
            left: 0,
          ),
          Positioned(
            child: Text("bottom0,right0"),
            bottom: 0,
            right: 0,
          ),
        ],
      ),
    );
  }
}
```

##### 创建一个悬浮按钮

---

可以使用**Positioned组件**的绝对定位的特点，让按钮随时**固定**在窗口的一个位置

![image-20240218020618137](https://www.z4a.net/images/2024/02/22/image-20240218020618137.png)

```dart
class SpecialBtn extends StatelessWidget{
  const SpecialBtn({super.key});
  List<Widget> getLists(){
    List<Widget> lists = [];
    for(int i = 0;i<100;i++){
      lists.add(
          ListTile(
            leading: Text("[${i+1}]"),
            title: Text("标题${i+1}"),
            subtitle: Text("数据${i+1}"),
            trailing: Text("|${i+1}|"),
            tileColor: Color.fromARGB(Random().nextInt(255), Random().nextInt(255), Random().nextInt(255), 1),
          )
      );
    }
    return lists;
  }
  @override
  Widget build(BuildContext context) {
    return Stack(
      children: [
        ListView(
          children: getLists(),
        ),
        Positioned(
          right: 10,
          bottom: 10,
          child: Container(
            width: 40,
            height: 40,
            alignment: Alignment.center,
            child: ElevatedButton(
              style: ButtonStyle(
                backgroundColor: MaterialStateColor.resolveWith((states) => Colors.limeAccent),
                padding: MaterialStateProperty.all(const EdgeInsets.all(0)),
              ),
              onPressed: () {
                print("你点击了按钮");
              },
              child: const Text("Btn"),
            ),
          )
        ),
      ],
    );
  }
}
```

### AspectRatio布局

---

此布局的理解比较的复杂，布局的宽高由`aspectRatio`参数去决定，即宽高比，它会在布局限制条件允许的范围内尽可能的扩展，按照固定比率去尽量占满区域

#### 属性

---

| 属性          | 说明                       |
| ------------- | -------------------------- |
| `aspectRatio` | 宽高比，可能会忽略这个数值 |
| `child`       | 子组件                     |

```dart
class AspectRatioTest extends StatelessWidget{
  const AspectRatioTest({super.key});

  @override
  Widget build(BuildContext context) {
    return AspectRatio(
      aspectRatio: 3/2,
      child: Container(
        color: Colors.limeAccent,
      ),
    );
  }
```

## 按钮

---

flutter内置了一些比较好的按钮，虽然样式设置起来有些许麻烦

### 属性

---

| 属性        | 说明                                        |
| ----------- | ------------------------------------------- |
| `onPressed` | 点击事件 **[必填]**                         |
| `style`     | 按钮样式，需要使用**ButtonStyle**来调整样式 |
| `child`     | 子组件 **[必填]**                           |

### Flutter内置的按钮

| 按钮                  | 说明                                                         |
| --------------------- | ------------------------------------------------------------ |
| `ElevatedButton`      | 最普通的按钮，有背景颜色，有少许阴影，点击有颜色变化，无边框 |
| `TextButton`          | 文本按钮，无背景颜色，无阴影，点击有颜色变化，无边框         |
| `OutlinedButton`      | 边框按钮，无背景颜色，无阴影，点击有颜色变化，有边框         |
| `IconButton`          | 图标按钮，无背景颜色，无阴影，点击有颜色变化，无边框         |
| `ElevatedButton.icon` | 带图标的普通按钮，样式如上，`icon`必填                       |
| `TextButton.icon`     | 带图标的文本按钮，样式如上，`icon`必填                       |
| `OutlinedButton.icon` | 带图标的边框按钮，样式如上，`icon`必填                       |

![image-20240218231334250](https://www.z4a.net/images/2024/02/22/image-20240218231334250.png)

```dart
class BtnTest extends StatelessWidget{
  const BtnTest({super.key});

  @override
  Widget build(BuildContext context) {
    return GridView.count(
      crossAxisCount: 4,
      children: [
        ElevatedButton(onPressed: (){}, child: const Text("普通按钮")),
        TextButton(onPressed: (){}, child: const Text("文本按钮")),
        OutlinedButton(onPressed: (){}, child: const Text("边框按钮")),
        IconButton(onPressed: (){}, icon: const Icon(Icons.gamepad_outlined)),
        ElevatedButton.icon(onPressed: (){}, icon: const Icon(Icons.tag_faces), label: const Text("普通按钮[有图标]")),
        TextButton.icon(onPressed: (){}, icon: const Icon(Icons.tag_faces), label: const Text("文本按钮[有图标]")),
        OutlinedButton.icon(onPressed: (){}, icon: const Icon(Icons.tag_faces), label: const Text("边框按钮[有图标]")),
      ],
    );
  }
}
```

### 修改按钮宽高

---

通过使用**SizeBox**来调整按钮，**SizeBox**中的**width和height**调整盒子的大小，进而调整按钮宽高

![image-20240218231425408](https://www.z4a.net/images/2024/02/22/image-20240218231425408.png)

```dart
class BtnTest1 extends StatelessWidget{
  const BtnTest1({super.key});

  @override
  Widget build(BuildContext context) {
    return SizedBox(
      width: 150,
      height: 50,
      child: ElevatedButton(
        onPressed: (){},
        child: const Text("修改宽高"),
      ),
    );
  }
}
```

### 修改按钮样式

想要修改按钮的样式，需要通过`ButtonStyle`去调整，而里面的参数比较的复杂

#### ButtonStyle的属性

| 属性              | 说明         | 参数                                                         |
| ----------------- | ------------ | ------------------------------------------------------------ |
| `backgroundColor` | 背景颜色     | `MaterialStateProperty.all(Colors.*)`                        |
| `foregroundColor` | 组件内容颜色 | `MaterialStateProperty.all(Colors.*)`                        |
| `shadowColor`     | 阴影颜色     | `MaterialStateProperty.all(Colors.*)`                        |
| `shape`           | 按钮形状     | `MaterialStateProperty.all(*)` 这个比较特殊                  |
| `padding`         | 内边距       | `MaterialStateProperty.all(const EdgeInsets.*)`              |
| `elevation`       | 阴影范围     | `MaterialStateProperty.all(num)`                             |
| `side`            | 边框         | `MaterialStateProperty.all(const BorderSide(width: num,color: Colors.*))` |
| `alignment`       | 组件对齐方式 | `Alignment.*`                                                |

#### 设置按钮圆角

`shape`这个属性的参数比较多变

若要设置圆角，参数为：`MaterialStateProperty.all(RoundedRectangleBorder(borderRadius: BorderRadius.circular(num)))`

![image-20240223160855740](https://www.z4a.net/images/2024/02/23/image-20240223160855740.png)

```dart
class BtnTest2 extends StatelessWidget{
  const BtnTest2({super.key});

  @override
  Widget build(BuildContext context) {
    return SizedBox(
      width: 150,
      height: 50,
      child: ElevatedButton(
        onPressed: (){},
        style: ButtonStyle(
          backgroundColor: MaterialStateProperty.all(Colors.lightBlueAccent),
          foregroundColor: MaterialStateProperty.all(Colors.purple),
          elevation: MaterialStateProperty.all(10),
          alignment:Alignment.center,
          shadowColor:MaterialStateProperty.all(Colors.black12),
          padding:MaterialStateProperty.all(const EdgeInsets.all(10)),
          shape: MaterialStateProperty.all(RoundedRectangleBorder(
            borderRadius: BorderRadius.circular(10)
          )),
        ),
        child: const Text("修改各种属性"),
      ),
    );
  }
}
```



若要设置圆形，参数为：`MaterialStateProperty.*all*(const CircleBorder(side: BorderSide(color: Color.fromARGB(0, 0, 0, 0))))`

![image-20240223160921240](https://www.z4a.net/images/2024/02/23/image-20240223160921240.png)

```dart
class BtnTest3 extends StatelessWidget{
  const BtnTest3({super.key});

  @override
  Widget build(BuildContext context) {
    return SizedBox(
      width: 120,
      height: 120,
      child: ElevatedButton(
        onPressed: (){},
        style: ButtonStyle(
          shape: MaterialStateProperty.all(
            const CircleBorder(side: BorderSide(color: Color.fromARGB(0, 0, 0, 0))
          )),
        ),
        child: const Text("圆形按钮"),
      ),
    );
  }
}
```

#### 设置按钮边框

![image-20240223161246468](https://www.z4a.net/images/2024/02/23/image-20240223161246468.png)

```dart
class BtnTest4 extends StatelessWidget{
  const BtnTest4({super.key});

  @override
  Widget build(BuildContext context) {
    return SizedBox(
      width: 120,
      height: 120,
      child: OutlinedButton(
        onPressed: (){},
        style: ButtonStyle(
          side: MaterialStateProperty.all(
            const BorderSide(width: 1,color: Colors.brown)
          ),
        ),
        child: const Text("修改边框"),
      ),
    );
  }
}
```

# 事件

## PointerEvents

------

最简单的事件监听，通过Listener()去监听子组件的行为 tips：以下的`e`和`event`都是`event`，只是个变量而已

### 属性

| 属性             | 说明                                   |
| ---------------- | -------------------------------------- |
| `onPointerDown`  | 按下组件触发，参数:`(e)=>{}`           |
| `onPointerMove`  | 按下并在组件内移动触发，参数:`(e)=>{}` |
| `onPointerHover` | 移动到组件触发，参数:`(e)=>{}`         |
| `onPointerUp`    | 按下后松开才触发，参数:`(e)=>{}`       |

![image-20240228002642882](https://www.z4a.net/images/2024/02/28/image-20240228002642882.png)

```dart
class Test1 extends StatelessWidget{
  const Test1({super.key});

  @override
  Widget build(BuildContext context) {
    return ListView(
      children: [
        ListTile(
          title: Listener(
            onPointerDown: (event) => print("按下组件触发：$event"),
            child: const Text("按下组件触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title: Listener(
            onPointerMove: (event) => print("按下并在组件内移动触发：$event"),
            child: const Text("按下并在组件内移动触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title: Listener(
            onPointerHover: (event) => print("移动到组件触发：$event"),
            child: const Text("移动到组件触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title: Listener(
            onPointerUp: (event) => print("按下后松开才触发：$event"),
            child: const Text("按下后松开才触发"),
          ),
        ),
      ],
    );
  }
}
```

## GestureDetector

------

GestureDetector封装了非常多的触发类型，所以直接使用GestureDetector()组件可以直接使用这些监听类型

### Tap单击 属性

------

| 属性          | 说明                                                         |
| ------------- | ------------------------------------------------------------ |
| `onTapDown`   | 按下触发，参数`(e)=>{}`                                      |
| `onTapUp`     | 抬起触发，参数`(e)=>{}`                                      |
| `onTap`       | 按下后抬起[与抬起触发不同，这个两个条件都得有]，参数`()=>{}` |
| `onTapCancel` | 按下后取消[可移出组件触发]，参数`()=>{}`                     |

![image-20240228002720931](https://www.z4a.net/images/2024/02/28/image-20240228002720931.png)

```dart
class Test2 extends StatelessWidget{
  const Test2({super.key});

  @override
  Widget build(BuildContext context) {
    return ListView(
      children: [
         ListTile(
          title:GestureDetector(
            onTapDown: (e) => print("按下触发：$e"),
            child: const Text("按下触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title:GestureDetector(
            onTapUp: (e) => print("抬起触发：$e"),
            child: const Text("抬起触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title:GestureDetector(
            onTap: () => print("按下后抬起[与抬起触发不同，这个两个条件都得有]：======="),
            child: const Text("按下后抬起[与抬起触发不同，这个两个条件都得有]"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title:GestureDetector(
            onTapCancel: () => print("按下后取消[可移出组件触发]：======="),
            child: const Text("按下后取消[可移出组件触发]"),
          ),
        ),
      ],
    );
  }
}
```

### DoubleTap双击 属性

------

| 属性                | 说明                                       |
| ------------------- | ------------------------------------------ |
| `onDoubleTap`       | 双击触发[必须按下抬起各两次]，参数`()=>{}` |
| `onDoubleTapCancel` | 双击时取消[可移出组件触发]，参数`()=>{}`   |
| `onDoubleTapDown`   | 双击时第二次点击触发，参数`(e)=>{}`        |

![image-20240228002755697](https://www.z4a.net/images/2024/02/28/image-20240228002755697.png)

```dart
class Test3 extends StatelessWidget{
  const Test3({super.key});

  @override
  Widget build(BuildContext context) {
    return ListView(
      children: [
        ListTile(
          title:GestureDetector(
            onDoubleTap: () => print("双击触发：======="),
            child: const Text("双击触发[必须按下抬起各两次]"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title:GestureDetector(
            onDoubleTapCancel: () => print("双击时取消[可移出组件触发]：======="),
            child: const Text("双击时取消[可移出组件触发]"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title:GestureDetector(
            onDoubleTapDown: (e) => print("双击时第二次点击触发：$e"),
            child: const Text("双击时第二次点击触发"),
          ),
        ),
      ],
    );
  }
}
```

### LongPress长按 属性

------

| 属性                    | 说明                                       |
| ----------------------- | ------------------------------------------ |
| `onLongPress`           | 长按触发，参数`()=>{}`                     |
| `onLongPressStart`      | 长按开始时[长按触发时]触发，参数`(e)=>{}`  |
| `onLongPressEnd`        | 长按结束时[长按抬起]触发，参数`(e)=>{}`    |
| `onLongPressDown`       | 长按按下时[单点也可]触发，参数`(e)=>{}`    |
| `onLongPressUp`         | 长按抬起时触发，参数`()=>{}`               |
| `onLongPressMoveUpdate` | 长按后移动更新时触发，参数`(e)=>{}`        |
| `onLongPressCancel`     | 长按取消时[也可移出组件]触发，参数`()=>{}` |

![image-20240228002910958](https://www.z4a.net/images/2024/02/28/image-20240228002910958.png)

```dart
class Test4 extends StatelessWidget{
  const Test4({super.key});

  @override
  Widget build(BuildContext context) {
    return ListView(
      children: [
        ListTile(
          title: GestureDetector(
            onLongPress: ()=>print("长按触发：====="),
            child: const Text("长按触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title: GestureDetector(
            onLongPressStart: (e)=>print("长按开始时[长按触发时]触发：$e"),
            child: const Text("长按开始时触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title: GestureDetector(
            onLongPressEnd: (e)=>print("长按结束时[长按抬起]触发：$e"),
            child: const Text("长按结束时触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title: GestureDetector(
            onLongPressDown: (e)=>print("长按按下时[单点也可]触发：$e"),
            child: const Text("长按按下时触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title: GestureDetector(
            onLongPressUp: ()=>print("长按抬起时触发：===="),
            child: const Text("长按抬起时触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title: GestureDetector(
            onLongPressMoveUpdate: (e)=>print("长按后移动更新时触发：$e"),
            child: const Text("长按后移动更新时触发"),
          ),
        ),
        Container(height: 1,color: Colors.black87,),
        ListTile(
          title: GestureDetector(
            onLongPressCancel: ()=>print("长按取消时触发：===="),
            child: const Text("长按取消时触发"),
          ),
        ),
      ],
    );
  }
}
```

### Drag拖动 属性

------

| 属性                     | 说明                        |
| ------------------------ | --------------------------- |
| `onVerticalDragStart`    | 开始垂直移动，参数`(e)=>{}` |
| `onVerticalDragUpdate`   | 持续垂直移动，参数`(e)=>{}` |
| `onVerticalDragEnd`      | 结束垂直移动，参数`(e)=>{}` |
| `onHorizontalDragStart`  | 开始水平移动，参数`(e)=>{}` |
| `onHorizontalDragUpdate` | 持续水平移动，参数`(e)=>{}` |
| `onHorizontalDragEnd`    | 结束水平移动，参数`(e)=>{}` |

![image-20240228003019407](https://www.z4a.net/images/2024/02/28/image-20240228003019407.png)

```dart
class Test5 extends StatelessWidget{
  const Test5({super.key});

  @override
  Widget build(BuildContext context) {
    return Center(
      child: GestureDetector(
          onVerticalDragStart: (e)=>print("开始垂直移动,$e"),
          onVerticalDragUpdate: (e)=>print("持续垂直移动,$e"),
          onVerticalDragEnd: (e)=>print("结束垂直移动,$e"),
          onHorizontalDragStart: (e)=>print("开始水平移动,$e"),
          onHorizontalDragUpdate: (e)=>print("持续水平移动,$e"),
          onHorizontalDragEnd: (e)=>print("结束水平移动,$e"),
          child: Container(
            width: 150,
            height: 50,
            color: Colors.green,
            child: const Center(
              child: Text("按住我移动一下"),
            ),
          )
      ),
    );
  }
}
```

### 事件隔离

------

因为通过`Listener()`可以拿到子组件**Widget**的信息，使用`AbsorbPointer()`组件和`IgnorePointer()`组件可以使得这些信息**不允许打印**出来，而两者的**用法一样**，只是属性不一样

| 组件              | 属性        | 说明                                |
| ----------------- | ----------- | ----------------------------------- |
| `AbsorbPointer()` | `absorbing` | `true` ：不会打印，`false` ：会打印 |
| `IgnorePointer()` | `ignoring`  | `true` ：不会打印，`false` ：会打印 |

![image-20240228003116469](https://www.z4a.net/images/2024/02/28/image-20240228003116469.png)

```dart
class Test6 extends StatelessWidget{
  const Test6({super.key});


  @override
  Widget build(BuildContext context) {
    return Flex(
      direction: Axis.horizontal,
      children: [
        Container(width: 5),
        Expanded(
          flex: 1,
          child: IgnorePointer(
            ignoring: true,
            child: Listener(
              onPointerDown: (e)=>print("点了第一个ignoring: true，$e"),
              child: Container(
                height: 50,
                color: Colors.green,
                child: const Text("ignoring: true"),
              ),
            ),
          )),
        Container(width: 5),
        Expanded(
          flex: 1,
          child: AbsorbPointer(
            absorbing: false,
            child: Listener(
              onPointerDown: (e)=>print("点了第二个,absorbing: false，$e"),
              child: Container(
                height: 50,
                color: Colors.lightBlueAccent,
                child: const Text("absorbing: false"),
              ),
            ),
          )),
        Container(width: 5),
      ],
    );
  }
}
```





# demo

------

[Turing158/flutter-demo (github.com)](https://github.com/Turing158/flutter-demo)

[Turing_ICE/flutter-demo (gitee.com)](https://gitee.com/turing-ice/flutter-demo)



------

*待更新 ...*
